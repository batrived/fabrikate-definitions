name: "fabrikate-keyvault-controller"
type: static # Replaces `generator` in fabrikate v1.0.0
path: "./manifests"
hooks:
  before-install:
    - echo 'installing keyvault-controller'
    - "helm repo add spv-charts http://charts.spvapi.no"
    - "helm repo update"
  after-install:
    - echo 'installed keyvault-controller'
subcomponents:
  - name: "keyvault-controller"
    type: helm # Replaces `generator` in fabrikate v1.0.0
    source: "http://charts.spvapi.no"
    method: "git"
    path: "azure-key-vault-controller"
    version: "0.1.21"
  - name: "acr-auth"
    source: "./acr-auth"
  - name: "geneva-cert"
    source: "./geneva-cert"
  - name: "tls-cert"
    source: "./tls-cert"
